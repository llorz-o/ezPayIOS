"use strict";(self["webpackChunkez_pay"]=self["webpackChunkez_pay"]||[]).push([[4656],{85244:function(t,e,n){n.d(e,{Z:function(){return u}});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",t._g(t._b({staticClass:"Refresh"},"span",t.$attrs,!1),t.$listeners),[t.loading?n("van-loading",{attrs:{size:"20",type:"spinner"}}):n("van-icon",{attrs:{name:"replay",size:"20"}})],1)},a=[],s={props:{loading:Boolean}},i=s,o=n(1001),c=(0,o.Z)(i,r,a,!1,null,"2b15b292",null),u=c.exports},94656:function(t,e,n){n.r(e),n.d(e,{default:function(){return N}});var r,a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page graybg page-home"},[n("div",{staticClass:"balanceBg"},[n("div",{staticClass:"balanceBox"},[n("div",{staticClass:"welcomeEl"},[t._v(" 欢迎 "),t.$root.userInfo.realName?n("span",{staticClass:"name"},[t._v(t._s(t.$root.userInfo.realName))]):n("span",{staticClass:"name",on:{click:function(e){return t.$router.push("/user_certify")}}},[t._v(" 请先实名 ")])]),n("div",{staticClass:"balanceEl",on:{click:t.refreshBalance}},[n("h3",{staticClass:"balanceLable"},[n("span",[t._v(" 余额 ")]),n("Refresh",{staticClass:"refreshBalance",attrs:{loading:t.isLoadingBalance}})],1),n("div",{staticClass:"balance"},[n("span",{staticClass:"value"},[t._v(" "+t._s(parseFloat(t.$root.userInfo.balance).toFixed(2))+" ")]),n("span",{staticClass:"unit"},[t._v(" V币 ")])])]),n("div",{staticClass:"walletAdderssEl"},[n("van-icon",{attrs:{name:"map-marked"}}),n("span",[t._v(t._s(t.$root.userInfo.walletAddress))]),n("button",{directives:[{name:"clipboard",rawName:"v-clipboard",value:t.$root.userInfo.walletAddress,expression:"$root.userInfo.walletAddress"}],staticClass:"copy copyBtn",on:{success:t.$root.copySuccessful}})],1)])]),n("div",{staticClass:"balanceDetail"},[n("van-grid",{attrs:{border:!1,"column-num":3}},[n("van-grid-item",{staticClass:"border_right_1px"},[n("div",{staticClass:"balanceEl"},[n("span",{staticClass:"balance"},[t._v(" "+t._s(parseFloat(t.$root.userInfo.validSellBalance).toFixed(2))+" ")]),n("span",{staticClass:"unit"},[t._v(" V币 ")])]),n("div",{staticClass:"label"},[t._v("可售数量")])]),n("van-grid-item",{staticClass:"border_right_1px"},[n("div",{staticClass:"balanceEl"},[n("span",{staticClass:"balance"},[t._v(" "+t._s(parseFloat(t.$root.userInfo.sumSellAmount).toFixed(2))+" ")]),n("span",{staticClass:"unit"},[t._v(" V币 ")])]),n("div",{staticClass:"label"},[t._v("卖单余额")])]),n("van-grid-item",{staticClass:"border_right_1px"},[n("div",{staticClass:"balanceEl"},[n("span",{staticClass:"balance"},[t._v(" "+t._s(parseFloat(t.$root.userInfo.sumFrozenAmount).toFixed(2))+" ")]),n("span",{staticClass:"unit"},[t._v(" V币 ")])]),n("div",{staticClass:"label"},[t._v("交易中")])])],1),n("div",{staticClass:"btnsBox"},[n("van-button",{attrs:{color:"#F0535F",to:"/sale"}},[t._v("卖币")]),n("van-button",{attrs:{color:"#6F59FE",replace:"",to:"/trade/transaction"}},[t._v("买币")]),n("span",{staticClass:"split"}),n("van-button",{attrs:{color:"#1890ff",to:"/user_transfer"}},[t._v("转账")])],1)],1),n("van-notice-bar",{attrs:{text:t.announcement.length?t.announcement[t.announcementIndex].content:"暂无公告内容！",background:"#fff",color:"#333",scrollable:""},on:{replay:t.handleReplay}},[n("span",{staticClass:"icon icon-notice",attrs:{slot:"left-icon"},slot:"left-icon"})]),t.carousels.length?n("van-swipe",{staticClass:"carousel",attrs:{autoplay:3e3,"indicator-color":"white"},on:{change:function(e){return t.carouselIndex=e}}},t._l(t.carousels,(function(e){return n("van-swipe-item",{key:e.id},[n("img",{staticClass:"carouselImg",attrs:{src:t.$root.getImageUrl(e.imgAddr),alt:e.title},on:{click:function(n){return t.handleCarousel(e)}}})])})),1):t._e(),n("div",{staticClass:"hangOrder border_top_1px"},[n("div",{staticClass:"title"},[n("span",[t._v("我的挂单")]),n("span",{on:{click:function(e){return t.$router.push("/my_hang_orders")}}},[t._v("更多")])]),t._l(t.hangOrders,(function(t,e){return n("HangOrderItem",{key:e,attrs:{dt:t}})}))],2),n("div",{staticClass:"tansactionOrder border_top_1px"},[n("div",{staticClass:"title"},[n("span",[t._v("交易记录")]),n("span",{on:{click:function(e){return t.$router.replace("/orders/list")}}},[t._v("更多")])]),t._l(t.orders,(function(t,e){return n("TransactionItem",{key:e,attrs:{dt:t}})}))],2),n("FloatBtn")],1)},s=[],i=n(39873),o=n(7067),c=(n(83040),n(68309),n(9653),n(91064)),u=n(24074),l=n(77588),d=n(74457),m=(0,c.d)("grid"),f=m[0],h=m[1],p=f({mixins:[(0,d.G)("vanGrid")],props:{square:Boolean,gutter:[Number,String],iconSize:[Number,String],direction:String,clickable:Boolean,columnNum:{type:[Number,String],default:4},center:{type:Boolean,default:!0},border:{type:Boolean,default:!0}},computed:{style:function(){var t=this.gutter;if(t)return{paddingLeft:(0,u.N)(t)}}},render:function(){var t,e=arguments[0];return e("div",{style:this.style,class:[h(),(t={},t[l.k7]=this.border&&!this.gutter,t)]},[this.slots()])}}),g=n(8350),v=n(78703),_=n(84709),C=n(86225),b=(0,c.d)("grid-item"),y=b[0],O=b[1],k=y({mixins:[(0,d.j)("vanGrid")],props:(0,g.Z)({},v.g2,{dot:Boolean,text:String,icon:String,iconPrefix:String,info:[Number,String],badge:[Number,String]}),computed:{style:function(){var t=this.parent,e=t.square,n=t.gutter,r=t.columnNum,a=100/r+"%",s={flexBasis:a};if(e)s.paddingTop=a;else if(n){var i=(0,u.N)(n);s.paddingRight=i,this.index>=r&&(s.marginTop=i)}return s},contentStyle:function(){var t=this.parent,e=t.square,n=t.gutter;if(e&&n){var r=(0,u.N)(n);return{right:r,bottom:r,height:"auto"}}}},methods:{onClick:function(t){this.$emit("click",t),(0,v.BC)(this.$router,this)},genIcon:function(){var t,e=this.$createElement,n=this.slots("icon"),r=null!=(t=this.badge)?t:this.info;return n?e("div",{class:O("icon-wrapper")},[n,e(_.Z,{attrs:{dot:this.dot,info:r}})]):this.icon?e(C.Z,{attrs:{name:this.icon,dot:this.dot,badge:r,size:this.parent.iconSize,classPrefix:this.iconPrefix},class:O("icon")}):void 0},getText:function(){var t=this.$createElement,e=this.slots("text");return e||(this.text?t("span",{class:O("text")},[this.text]):void 0)},genContent:function(){var t=this.slots();return t||[this.genIcon(),this.getText()]}},render:function(){var t,e=arguments[0],n=this.parent,r=n.center,a=n.border,s=n.square,i=n.gutter,o=n.direction,c=n.clickable;return e("div",{class:[O({square:s})],style:this.style},[e("div",{style:this.contentStyle,attrs:{role:c?"button":null,tabindex:c?0:null},class:[O("content",[o,{center:r,square:s,clickable:c,surround:a&&i}]),(t={},t[l.T5]=a,t)],on:{click:this.onClick}},[this.genContent()])])}}),$=n(53045),S=n(54025),x=n(42008),T=n(42558),A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"float-welcome"},[n("div",{staticClass:"banner",class:{show:t.show},on:{click:function(e){return t.$router.replace("/trade/"+(t.$root.userInfo.BusinessStatus?"earn":"earn_agreement"))}}}),n("button",{staticClass:"btn",on:{click:function(e){t.show=!t.show}}})])},I=[],w={data:function(){return{show:!1}},methods:{}},D=w,P=n(1001),B=(0,P.Z)(D,A,I,!1,null,"3752398e",null),q=B.exports,E=n(85244),F={components:(r={HangOrderItem:T.K,TransactionItem:T.A},(0,o.Z)(r,p.name,p),(0,o.Z)(r,k.name,k),(0,o.Z)(r,"FloatBtn",q),(0,o.Z)(r,"Refresh",E.Z),r),data:function(){return{hangOrders:[],orders:[],isLoadingBalance:!1,announcement:[],announcementIndex:0,carousels:[],carouselIndex:0}},created:function(){this.$root.updateUnReadCount(),this.getCarouselChartInfo(),this.loadHangOrders(),this.loadOrders(),this.$root.$emit("root:set-topbar",["user-center","help","notices","customer-service"]),this.$root.$emit("root:set-layout",{bottom:!0}),this.getAnnouncement(),!1===this.$root.showAnnouncementDialog&&this.$root.config.alertAnn&&"1"==this.$root.config.alertAnn.status&&this.$dialog.alert({className:"homeAnnouncementDialog",title:this.$root.config.alertAnn.title||"通知",message:'<div class="richText">'.concat(this.$root.config.alertAnn.content,"</div>"),allowHtml:!0,beforeClose:function(t,e){this.$root.showAnnouncementDialog=!0,e()}})},methods:{handleCarousel:function(t){this.$router.push("/rich_text/".concat(t.id,"/carousel"))},getCarouselChartInfo:function(){var t=this;return(0,i.Z)(regeneratorRuntime.mark((function e(){var n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,$.c4)();case 2:n=e.sent,r=n.ok,a=n.data,r&&(t.carousels=a);case 6:case"end":return e.stop()}}),e)})))()},handleReplay:function(){this.announcementIndex+=1,this.announcementIndex>=this.announcement.length&&(this.announcementIndex=0)},getAnnouncement:function(){var t=this;return(0,i.Z)(regeneratorRuntime.mark((function e(){var n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,x.k5)({page:1,pageSize:20});case 2:n=e.sent,r=n.ok,n.msg,a=n.data,r?(t.announcementIndex=0,t.announcement=a.list):t.announcement=[];case 7:case"end":return e.stop()}}),e)})))()},refreshBalance:function(){var t=this;return(0,i.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoadingBalance=!0,e.next=3,t.$root.fetchUserInfo();case 3:t.isLoadingBalance=!1;case 4:case"end":return e.stop()}}),e)})))()},loadHangOrders:function(){var t=this;(0,S.$Z)({page:1,pageSize:3}).then((function(e){var n=e.ok,r=e.msg,a=e.data;n?t.hangOrders=a.list:t.$toast.fail(r)}))},loadOrders:function(){var t=this;(0,S.uF)({page:1,pageSize:3}).then((function(e){var n=e.ok,r=e.msg,a=e.data;n?t.orders=a.list:t.$toast.fail(r)}))}}},M=F,Z=(0,P.Z)(M,a,s,!1,null,null,null),N=Z.exports},54025:function(t,e,n){n.d(e,{$Z:function(){return a},$i:function(){return c},CI:function(){return p},Ej:function(){return v},Hn:function(){return l},N8:function(){return g},R9:function(){return y},XW:function(){return _},_H:function(){return s},_d:function(){return C},an:function(){return f},cf:function(){return m},dF:function(){return d},fW:function(){return u},l$:function(){return b},uF:function(){return i},v1:function(){return o},vi:function(){return h},y6:function(){return O}});var r=n(95426),a=function(t){return(0,r.q)({url:"/Api/Market/PendingOrder/myPendingOrderList",method:"POST",data:t})},s=function(t,e){return(0,r.q)({url:"/Api/Market/".concat((0,r.Dr)(e),"PendingOrder/marketPendingOrderList"),method:"POST",data:t})},i=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,r.q)({url:e?"/Api/User/Business/getOrderList":"/Api/Market/Order/myOrderList",method:e?"POST":"GET",data:t})},o=function(t,e){return(0,r.q)({url:"/Api/Market/".concat((0,r.Dr)(e),"Sell/index"),method:"POST",data:t})},c=function(t,e){return(0,r.q)({url:"/Api/Market/".concat((0,r.Dr)(e),"Sell/recycle"),method:"POST",data:t})},u=function(t,e){return(0,r.q)({url:"/Api/Market/".concat((0,r.Dr)(e),"Order/myOrderDetail"),method:"GET",data:t})},l=function(t,e){return(0,r.q)({url:"/Api/Market/".concat((0,r.Dr)(e),"PendingOrder/marketPendingOrderDetail"),method:"POST",data:t})},d=function(t,e){return(0,r.q)({url:"/Api/Market/".concat((0,r.Dr)(e),"Order/getCurrentOrderStatus"),method:"GET",data:t})},m=function(t,e){return(0,r.q)({url:"/Api/Market/".concat((0,r.Dr)(e),"PendingOrder/myPendingOrderDetail"),method:"GET",data:t})},f=function(t,e){return(0,r.q)({url:"/Api/Market/".concat((0,r.Dr)(e),"Order/buyerCreatesOrder"),method:"POST",data:t})},h=function(t,e){return(0,r.q)({url:"/Api/Market/".concat((0,r.Dr)(e),"PendingOrder/getOrderListByPendingOrder"),method:"GET",data:t})},p=function(t,e){return(0,r.q)({url:"/Api/Market/".concat((0,r.Dr)(e),"Order/sellerRefusesToCreateOrder"),method:"POST",data:t})},g=function(t,e){return(0,r.q)({url:"/Api/Market/".concat((0,r.Dr)(e),"Order/sellerConfirmsToCreateOrder"),method:"POST",data:t})},v=function(t,e){return(0,r.q)({url:"/Api/Market/".concat((0,r.Dr)(e),"Order/sellerHasNotReceivedPayment"),method:"POST",data:t})},_=function(t,e){return(0,r.q)({url:"/Api/Market/".concat((0,r.Dr)(e),"Order/sellerCompletesOrder"),method:"POST",data:t})},C=function(t,e){return(0,r.q)({url:"/Api/Market/".concat((0,r.Dr)(e),"Order/buyerCancelsOrder"),method:"POST",data:t})},b=function(t,e){return(0,r.q)({url:"/Api/Market/".concat((0,r.Dr)(e),"Order/buyerConfirmsOrderHasBeenPaid"),method:"POST",data:t})},y=function(t,e){return(0,r.q)({url:"/Api/Market/".concat((0,r.Dr)(e),"Order/buyerAppeals"),method:"POST",data:t})},O=function(t,e){return(0,r.q)({url:"/Api/Market/".concat((0,r.Dr)(e),"Order/getCancelsOrderDailyCount"),method:"GET",data:t})}},42558:function(t,e,n){n.d(e,{K:function(){return u},A:function(){return p}});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hang-order",on:{click:function(e){return t.$router.push("/my_hang_order/"+t.dt.pendingOrderId+"?m="+("Business"===t.dt.sellerType?1:0))}}},[n("div",{staticClass:"time"},[t._v(" 挂单时间 "+t._s(t._f("dateFormat")(t.dt.createTime,"M/D h:m:s"))+" ")]),n("div",{staticClass:"content"},[n("span",{staticClass:"payment-method"},t._l(t.payments,(function(t,e){return n("div",{key:e,staticClass:"item",class:"pay"+t})})),0),n("span",{staticClass:"order-type"},[t._v(t._s(t.dt.isSplit?"可拆分":"不可拆分"))]),n("span",{staticClass:"amount"},[t._v(" "+t._s(t._f("amountFormat")(t.dt.validAmount,{places:0}))+" V币 ")]),n("span",{staticClass:"order-status",class:t.stateClass},[t._v(" "+t._s(t.stateStr)+" ")]),n("van-icon",{attrs:{name:"arrow"}})],1)])},a=[],s=(n(83710),{name:"hangOrderItem",props:{dt:{type:Object,default:function(){return{createTime:(new Date).toLocaleDateString(),paymentType:7,isSplit:0,amount:"13076598",status:1,underwayOrder:1}}}},computed:{stateClass:function(){return this.dt.underwayOrder>0?"underway":1===this.dt.status?"hanging":0===this.dt.status?"closed":void 0},stateStr:function(){return 1==this.dt.frozen?"冻结":this.dt.underwayOrder>0?"已发起交易":1===this.dt.status?"挂单中...":0===this.dt.status?this.dt.amount==this.dt.soldAmount?"已售罄":"取消挂单":void 0},payments:function(){return this.$root.parsePayments(this.dt.paymentType)}},methods:{}}),i=s,o=n(1001),c=(0,o.Z)(i,r,a,!1,null,"e930966c",null),u=c.exports,l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"transaction",on:{click:function(e){return t.$router.push("/"+(t.isSale?"transaction_sale":"transaction_buy")+"/"+t.dt.orderId+"?m="+("Business"===t.dt.sellerType?1:0))}}},[n("span",{staticClass:"inout bg",class:t.isSale?"out":"in"},[t._v(" "+t._s(t.isSale?"卖":"买")+" ")]),n("span",{staticClass:"time"},[t._v(" "+t._s(t.ymd)+" "),n("br"),t._v(" "+t._s(t.hms)+" ")]),n("span",{staticClass:"amountEl"},[n("span",{staticClass:"amount",class:t.isSale?"out":"in"},[t._v(" "+t._s(t._f("amountFormat")(t.dt.amount))+" ")]),n("span",{staticClass:"unit"},[t._v(" V币 ")])]),n("span",{staticClass:"order-status",class:t._f("transactingOrderStatus")(t.dt.status)},[t._v(" "+t._s(t._f("transactingOrderStatus")(t.dt.status,"seller-content"))+" ")])])},d=[],m=(n(47042),{name:"TransactionItem",props:{dt:{type:Object,default:function(){return{orderType:1,time:(new Date).toLocaleDateString(),amount:"0",orderStatus:"WaitingSellerConfirm"}}}},computed:{orderTime:function(){return this.$options.filters.dateFormat(this.dt.createTime,"Y/M/D h:m:s")},ymd:function(){return this.orderTime.slice(0,10)},hms:function(){return this.orderTime.slice(11)},isSale:function(){return!!this.$root.userInfo&&(this.dt.sellerId==this.$root.userInfo.userId&&("Member"===this.dt.sellerType||"Business"===this.dt.sellerType))}}}),f=m,h=(0,o.Z)(f,l,d,!1,null,"2c263b2e",null),p=h.exports}}]);
//# sourceMappingURL=4656.789b064d.js.map