{"version":3,"file":"js/7835.bc9edab2.js","mappings":"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","sources":["webpack://ez_pay/./src/views/my_hang_order/index.vue?7778","webpack://ez_pay/src/views/my_hang_order/index.vue","webpack://ez_pay/./src/views/my_hang_order/index.vue?61de","webpack://ez_pay/./src/views/my_hang_order/index.vue","webpack://ez_pay/./src/views/transaction_sale/components/dialogs.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page page-transaction_sale\"},[_c('div',{staticClass:\"top-wrapper\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"title\"},[_c('span',{staticClass:\"split\"},[_vm._v(\" \"+_vm._s(_vm.orderInfo.isSplit ? \"可拆分\" : \"不可拆分\")+\" \")]),(_vm.orderInfo.status === 0)?_c('span',{staticClass:\"status canceled\"},[_vm._v(\" \"+_vm._s(_vm.orderInfo.amount == _vm.orderInfo.soldAmount ? \"已售罄\" : \"取消挂单\")+\" \")]):_c('span',{staticClass:\"status\",class:_vm._f(\"transactingOrderStatus\")(_vm.status)},[_vm._v(\" \"+_vm._s(_vm._f(\"transactingOrderStatus\")(_vm.status,\"seller-content\"))+\" \")]),_c('span',{staticClass:\"btn\",class:{ loading: _vm.loading },on:{\"click\":function () { return _vm.loadDetails(_vm.orderInfo.pendingOrderId); }}},[_c('van-icon',{attrs:{\"name\":\"replay\"}})],1)]),_c('div',{staticClass:\"time\"},[(_vm.status == _vm.TRANSACTING_ORDER_STATUS.HANGING)?[_vm._v(\" 创建时间 \"+_vm._s(_vm._f(\"dateFormat\")(_vm.orderInfo.createTime,\"Y/M/D h:m:s\"))+\" \")]:_vm._e(),(_vm.status == _vm.TRANSACTING_ORDER_STATUS.BUYER_REQUEST)?[_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\" \"+_vm._s(_vm.$root.waitingSellerConfirmOrderStr)+\" \")]),_vm._v(\" 内未操作系统将默认卖家取消交易 \")]:[_vm._v(\"  \")]],2),_c('div',{staticClass:\"orderId\"},[_vm._v(\" 挂单编号 \"+_vm._s(_vm.orderInfo.pendingOrderNo)+\" \"),_c('button',{directives:[{name:\"clipboard\",rawName:\"v-clipboard\",value:(_vm.orderInfo.pendingOrderNo || ''),expression:\"orderInfo.pendingOrderNo || ''\"}],staticClass:\"copy copyBtn\",on:{\"success\":_vm.$root.copySuccessful}})])])]),_c('van-cell',{staticClass:\"kv amount\",attrs:{\"title\":\"售卖数量\"}},[_vm._v(\" V币 \"+_vm._s(_vm.orderInfo.validAmount)+\" \")]),(_vm.status == _vm.TRANSACTING_ORDER_STATUS.BUYER_REQUEST)?[_c('div',{staticClass:\"underOrders gary-8\"},[_c('div',{staticClass:\"title title_line\"},[_vm._v(\"交易订单\")]),_c('div',{staticClass:\"list\"},_vm._l((_vm.underOrders),function(item,index){return _c('div',{key:index,staticClass:\"item border_bottom_1px\",on:{\"click\":function($event){return _vm.$router.push((\"/transaction_sale/\" + (item.orderId) + \"?m=\" + (_vm.isCryptoMerchant ? 1 : 0)))}}},[_c('div',{staticClass:\"col time\"},[_vm._v(\" 发起时间 \"),_c('br'),_vm._v(\" \"+_vm._s(_vm._f(\"dateFormat\")(item.createTime,\"M/D h:m:s\"))+\" \")]),_c('div',{staticClass:\"col money\"},[_c('div',[_vm._v(\"购买数量\")]),_c('div',{staticClass:\"amount\"},[_vm._v(\" \"+_vm._s(parseFloat(item.amount).toFixed(2))+\"V币 \")])]),_c('div',{staticClass:\"col payment\",class:(\"pay\" + (item.paymentType))}),_c('div',{staticClass:\"col status\",class:_vm._f(\"transactingOrderStatus\")(item.status)},[_vm._v(\" \"+_vm._s(_vm._f(\"transactingOrderStatus\")(item.status,\"seller-content\"))+\" \")]),_c('van-icon',{attrs:{\"name\":\"arrow\"}})],1)}),0)])]:[_c('van-cell',{staticClass:\"kv payment\",attrs:{\"title\":\"收款方式\"}},[_c('van-radio-group',{model:{value:(_vm.radio),callback:function ($$v) {_vm.radio=$$v},expression:\"radio\"}},_vm._l((_vm.payments),function(item,index){return _c('van-radio',{key:index,staticClass:\"btn\",attrs:{\"name\":item}},[_c('van-button',{staticClass:\"btn\",attrs:{\"slot\":\"icon\"},slot:\"icon\"},[_c('span',{staticClass:\"item\",class:(\"pay\" + item)}),_vm._v(\" \"+_vm._s(_vm._f(\"paymentMethod\")(item,\"content\"))+\" \")])],1)}),1)],1)],(_vm.status == _vm.TRANSACTING_ORDER_STATUS.HANGING)?_c(_vm.componentsMapping[_vm.radio],{tag:\"components\",attrs:{\"hide\":_vm.hide,\"payment\":_vm.hide ? undefined : _vm.getPaymentInfo.info,\"title\":\"收款信息\"}}):_vm._e(),(_vm.orderInfo.status != 0)?_c('div',{staticClass:\"btns\"},[(_vm.status == _vm.TRANSACTING_ORDER_STATUS.HANGING)?[_c('van-button',{staticClass:\"danger block\",on:{\"click\":_vm.cancel_hanging}},[_vm._v(\" 取消挂单 \")])]:_vm._e()],2):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"page page-transaction_sale\">\n    <div class=\"top-wrapper\">\n      <div class=\"card\">\n        <div class=\"title\">\n          <span class=\"split\">\n            {{ orderInfo.isSplit ? \"可拆分\" : \"不可拆分\" }}\n          </span>\n          <span v-if=\"orderInfo.status === 0\" class=\"status canceled\">\n            {{\n              orderInfo.amount == orderInfo.soldAmount ? \"已售罄\" : \"取消挂单\"\n            }}\n          </span>\n          <span v-else :class=\"status | transactingOrderStatus\" class=\"status\">\n            {{ status | transactingOrderStatus(\"seller-content\") }}\n          </span>\n          <span\n            :class=\"{ loading }\"\n            class=\"btn\"\n            @click=\"() => loadDetails(orderInfo.pendingOrderId)\"\n          >\n            <van-icon name=\"replay\"/>\n          </span>\n        </div>\n        <div class=\"time\">\n          <template v-if=\"status == TRANSACTING_ORDER_STATUS.HANGING\">\n            创建时间 {{ orderInfo.createTime | dateFormat(\"Y/M/D h:m:s\") }}\n          </template>\n          <template v-if=\"status == TRANSACTING_ORDER_STATUS.BUYER_REQUEST\">\n            <span style=\"color: red\">\n              {{ $root.waitingSellerConfirmOrderStr }}\n            </span>\n            内未操作系统将默认卖家取消交易\n          </template>\n          <template v-else> &nbsp;</template>\n        </div>\n        <div class=\"orderId\">\n          挂单编号 {{ orderInfo.pendingOrderNo }}\n          <button\n            v-clipboard=\"orderInfo.pendingOrderNo || ''\"\n            class=\"copy copyBtn\"\n            @success=\"$root.copySuccessful\"\n          ></button>\n        </div>\n      </div>\n    </div>\n    <van-cell class=\"kv amount\" title=\"售卖数量\">\n      V币 {{ orderInfo.validAmount }}\n    </van-cell>\n\n    <template v-if=\"status == TRANSACTING_ORDER_STATUS.BUYER_REQUEST\">\n      <div class=\"underOrders gary-8\">\n        <div class=\"title title_line\">交易订单</div>\n        <div class=\"list\">\n          <div\n            v-for=\"(item, index) in underOrders\"\n            :key=\"index\"\n            class=\"item border_bottom_1px\"\n            @click=\"$router.push(`/transaction_sale/${item.orderId}?m=${isCryptoMerchant ? 1 : 0}`)\"\n          >\n            <div class=\"col time\">\n              发起时间\n              <br/>\n              {{ item.createTime | dateFormat(\"M/D h:m:s\") }}\n            </div>\n            <div class=\"col money\">\n              <div>购买数量</div>\n              <div class=\"amount\">\n                {{ parseFloat(item.amount).toFixed(2) }}V币\n              </div>\n            </div>\n            <div :class=\"`pay${item.paymentType}`\" class=\"col payment\"></div>\n            <div\n              :class=\"item.status | transactingOrderStatus()\"\n              class=\"col status\"\n            >\n              {{ item.status | transactingOrderStatus(\"seller-content\") }}\n            </div>\n            <van-icon name=\"arrow\"/>\n          </div>\n        </div>\n      </div>\n    </template>\n    <template v-else>\n      <van-cell class=\"kv payment\" title=\"收款方式\">\n        <van-radio-group v-model=\"radio\">\n          <van-radio\n            v-for=\"(item, index) in payments\"\n            :key=\"index\"\n            :name=\"item\"\n            class=\"btn\"\n          >\n            <van-button slot=\"icon\" class=\"btn\">\n              <span :class=\"`pay${item}`\" class=\"item\"></span>\n              {{ item | paymentMethod(\"content\") }}\n            </van-button>\n          </van-radio>\n        </van-radio-group>\n      </van-cell>\n    </template>\n\n    <components\n      :is=\"componentsMapping[radio]\"\n      v-if=\"status == TRANSACTING_ORDER_STATUS.HANGING\"\n      :hide=\"hide\"\n      :payment=\"hide ? undefined : getPaymentInfo.info\"\n      title=\"收款信息\"\n    >\n    </components>\n\n    <div v-if=\"orderInfo.status != 0\" class=\"btns\">\n      <template v-if=\"status == TRANSACTING_ORDER_STATUS.HANGING\">\n        <van-button class=\"danger block\" @click=\"cancel_hanging\">\n          取消挂单\n        </van-button>\n      </template>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {PAYMENT_METHOD, STATUS_TYPE, STEP, TRANSACTING_ORDER_STATUS,} from \"@/vendor/enum\";\nimport {is_cancel_transaction, is_start_transaction,} from \"../transaction_sale/components/dialogs\";\nimport {AliPaymentInfo, BankPaymentInfo, WechatPaymentInfo,} from \"../transaction_sale/components\";\nimport {getOrderListByPendingOrder, myPendingOrderDetail, recycle,} from \"@/apis/market\";\nimport {cryptoMerchantMixins} from \"@/vendor/mixins\";\n\n// 卖方单状态\n/**\n * HANGING\n * BUYER_REQUEST\n *\n * SELLER_CANCELED_DEAL\n * WAITING_FOR_TRANSFER\n *\n * BUYRER_CANCELD_DEAL\n * TRANSFERRED\n * TIME_OVER\n *\n * SELLER_DID_NOT_RECEIVE\n * DISPUTING\n * CANCELED_BY_OFFICIAL\n * CONFIRMED_BY_OFFICIAL\n * DEAL\n *\n */\nexport default {\n  components: {BankPaymentInfo, WechatPaymentInfo, AliPaymentInfo},\n  mixins: [cryptoMerchantMixins],\n  data() {\n    return {\n      STATUS_TYPE,\n      STEP,\n      TRANSACTING_ORDER_STATUS,\n      status: TRANSACTING_ORDER_STATUS.HANGING,\n      countdown: 1,\n      isTimeOut: false,\n      loading: false,\n      radio: \"\",\n      orderInfo: {},\n      orderPayments: [],\n      underOrders: [],\n      componentsMapping: {\n        [PAYMENT_METHOD.BANK]: \"BankPaymentInfo\",\n        [PAYMENT_METHOD.ALI]: \"AliPaymentInfo\",\n        [PAYMENT_METHOD.WE_CHAT]: \"WechatPaymentInfo\",\n      },\n    };\n  },\n  computed: {\n    hide() {\n      return (\n        this.status == this.TRANSACTING_ORDER_STATUS.SELLER_CANCELED_DEAL ||\n        this.status == this.TRANSACTING_ORDER_STATUS.BUYRER_CANCELD_DEAL ||\n        (this.status == this.TRANSACTING_ORDER_STATUS.SELLER_DID_NOT_RECEIVE &&\n          this.isCountdownEnd) || // 订单计时未结束\n        this.status == this.TRANSACTING_ORDER_STATUS.CONFIRM_TRANSFER ||\n        this.status == this.TRANSACTING_ORDER_STATUS.CANCELED_BY_OFFICIAL ||\n        this.status == this.TRANSACTING_ORDER_STATUS.CONFIRMED_BY_OFFICIAL ||\n        this.status == this.TRANSACTING_ORDER_STATUS.DEAL ||\n        this.status == this.TRANSACTING_ORDER_STATUS.TIME_OVER\n      );\n    },\n    isCountdownEnd() {\n      return this.countdown <= 0;\n    },\n    stepsActive() {\n      return this.STEP[this.status];\n    },\n    isTimeoutDisputing() {\n      if (\n        this.status == this.TRANSACTING_ORDER_STATUS.DISPUTING &&\n        this.isTimeOut\n      ) {\n        return true;\n      }\n      return false;\n    },\n    payments() {\n      return this.$root.parsePayments(this.orderInfo.paymentType);\n    },\n    getPaymentInfo() {\n      return this.orderPayments.find((item) => item.type === this.radio) || {};\n    },\n  },\n  created() {\n    this.loadDetails(this.$route.params.id);\n    this.$root.$emit(\"root:set-topbar\", [\"left-back\", \"customer-service\"]);\n  },\n  beforeDestroy() {\n    clearTimeout(this.timer);\n  },\n  methods: {\n    transactingOrderStatus(...args) {\n      return this.$options.filters.transactingOrderStatus(...args);\n    },\n    cancel_hanging() {\n      this.cancelHangOrder();\n    },\n    start_transaction() {\n      is_start_transaction();\n    },\n    cancel_transaction() {\n      is_cancel_transaction(2);\n    },\n    loadDetails(pendingOrderId) {\n      if (this.loading) return;\n      this.loading = true;\n      myPendingOrderDetail({pendingOrderId}, this.ApiPath).then(({ok, msg, data}) => {\n        this.loading = false;\n        if (ok) {\n          this.orderInfo = data.pendingOrder;\n          this.orderPayments = data.paymentType;\n          this.radio = this.payments[0];\n          if (this.orderInfo.underwayOrder > 0) {\n            this.status = TRANSACTING_ORDER_STATUS.BUYER_REQUEST;\n            this.loadUnderOrders();\n          } else {\n            this.status = TRANSACTING_ORDER_STATUS.HANGING;\n            this.underOrders = [];\n          }\n          if (this.orderInfo.status !== 0) {\n            this.timer = setTimeout(\n              () => this.loadDetails(pendingOrderId),\n              10 * 1000\n            );\n          }\n        } else {\n          this.$toast.fail(msg);\n        }\n      });\n    },\n    loadUnderOrders() {\n      getOrderListByPendingOrder({\n        pendingOrderId: this.orderInfo.pendingOrderId,\n        page: 1,\n        pageSize: 20,\n      }, this.ApiPath).then(({ok, msg, data}) => {\n        if (ok) {\n          this.underOrders = data.list;\n        } else {\n          this.$toast.fail(msg);\n        }\n      });\n    },\n    cancelHangOrder() {\n      recycle({\n        pendingOrderId: this.orderInfo.pendingOrderId,\n      }, this.ApiPath).then(({ok, msg}) => {\n        if (ok) {\n          this.$router.back();\n          this.$toast.success(msg);\n        } else {\n          this.$toast.fail(msg);\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.page.page-transaction_sale {\n  overflow-y: auto;\n\n  .top-wrapper {\n    .card {\n      position: relative;\n      background-color: #fff;\n      border-radius: 5px;\n      box-shadow: 0 0 2.5px 0.5px #c9c9c959;\n      position: relative;\n      overflow: hidden;\n      padding-bottom: 10px;\n\n      .title {\n        display: flex;\n\n        .split {\n          width: 20%;\n          height: 24px;\n          border-bottom-right-radius: 5px;\n          text-align: center;\n          font-size: 12px;\n          color: #fff;\n          line-height: 24px;\n          background: linear-gradient(45deg, #a473ff, #806cff);\n        }\n\n        .status {\n          flex: 1;\n          text-align: center;\n          height: 40px;\n          line-height: 40px;\n          font-size: 15px;\n          font-weight: 600;\n          color: $theme;\n\n          &.hanging,\n          &.deal,\n          &.confirm-transfer,\n          &.confirmed-by-official {\n            color: #15b300;\n          }\n\n          &.buyer-not-appeals,\n          &.canceled,\n          &.seller-canceled-deal,\n          &.buyer-canceled-deal,\n          &.seller-did-not-receive,\n          &.disputing,\n          &.canceled-by-official,\n          &.time-over {\n            color: #fb2222;\n          }\n        }\n\n        .btn {\n          width: 20%;\n          line-height: 40px;\n          text-align: center;\n          font-size: 22px;\n          color: #6f59fe;\n\n          &.loading {\n            .van-icon {\n              animation-name: rotate;\n              animation-duration: 2s;\n              animation-iteration-count: infinite;\n              animation-timing-function: linear;\n            }\n\n            pointer-events: none;\n          }\n\n          @keyframes rotate {\n            100% {\n              transform: rotateZ(360deg);\n            }\n          }\n        }\n      }\n\n      .time {\n        font-size: 12px;\n        text-align: center;\n        // padding-bottom: 10px;\n      }\n\n      .orderId {\n        font-size: 12px;\n        text-align: center;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n    }\n  }\n\n  .kv {\n    height: 44px;\n    padding-top: 0;\n    padding-bottom: 0;\n\n    &.amount .van-cell__value {\n      font-size: 15px;\n      font-weight: 600;\n      color: #333333;\n    }\n\n    &.payment {\n      height: 44px;\n      padding-top: 0;\n      padding-bottom: 0;\n      align-items: center;\n\n      .van-cell__title {\n        flex: none;\n        width: 86.781px;\n        margin-right: 12px;\n      }\n\n      .van-cell__value {\n        .van-radio-group {\n          display: flex;\n          align-items: center;\n\n          .van-radio {\n            margin-right: 5px;\n\n            &__icon {\n              &--checked {\n                .btn {\n                  color: #6f59fe;\n                  border-color: #6f59fe;\n\n                  &::before {\n                    border-color: #6f59fe;\n                    background-color: #6f59fe;\n                  }\n                }\n              }\n            }\n          }\n        }\n\n        .van-button {\n          width: 75px;\n          height: 32px;\n          background-color: #fff;\n\n          .van-button__text {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n          }\n        }\n\n        .item {\n          display: inline-block;\n          width: 20px;\n          height: 20px;\n          background-size: 100% 100%;\n          margin-right: 5px;\n\n          &.pay1 {\n            background-image: url(\"@/assets/icons/pay1@3x.png\");\n          }\n\n          &.pay2 {\n            background-image: url(\"@/assets/icons/pay2@3x.png\");\n          }\n\n          &.pay4 {\n            background-image: url(\"@/assets/icons/pay4@3x.png\");\n          }\n        }\n      }\n    }\n\n    .van-cell__title {\n      flex: none;\n      width: 86.781px;\n      margin-right: 12px;\n      font-size: 12px;\n      color: #333333;\n    }\n\n    .van-cell__value {\n      text-align: initial;\n      font-size: 12px;\n      color: #333333;\n    }\n  }\n\n  .underOrders {\n    padding: 10px;\n\n    .title {\n      font-size: 14px;\n      font-weight: 600;\n      height: 28px;\n      line-height: 28px;\n    }\n\n    .list {\n      padding: 0 5px;\n\n      .item {\n        display: flex;\n        align-items: center;\n        justify-content: space-around;\n        font-size: 12px;\n        padding: 8px 0;\n\n        .col {\n          text-align: center;\n        }\n\n        .time {\n          width: 82px;\n        }\n\n        .money {\n          flex: 1;\n\n          .amount {\n            font-size: 14px;\n          }\n        }\n\n        .payment {\n          width: 30px;\n          height: 30px;\n          margin-right: 8px;\n          background-size: contain;\n\n          &.pay1 {\n            background-image: url(\"@/assets/icons/pay1@3x.png\");\n          }\n\n          &.pay2 {\n            background-image: url(\"@/assets/icons/pay2@3x.png\");\n          }\n\n          &.pay4 {\n            background-image: url(\"@/assets/icons/pay4@3x.png\");\n          }\n        }\n\n        .status {\n          width: 75px;\n          color: $theme;\n\n          &.hanging,\n          &.deal,\n          &.confirm-transfer,\n          &.confirmed-by-official {\n            color: #15b300;\n          }\n\n          &.buyer-not-appeals,\n          &.seller-canceled-deal,\n          &.buyer-canceled-deal,\n          &.seller-did-not-receive,\n          &.disputing,\n          &.canceled-by-official,\n          &.time-over {\n            color: #fb2222;\n          }\n        }\n      }\n    }\n  }\n\n  .van-cell-group__title {\n    display: flex;\n    padding-left: 12px;\n    padding-right: 12px;\n\n    .title {\n      font-size: 14px;\n      color: #333333;\n      font-weight: 600;\n    }\n\n    .countdown {\n      font-size: 12px;\n      color: #333333;\n      margin-left: auto;\n    }\n  }\n\n  .btns {\n    display: flex;\n    padding: 0 12px 20px;\n\n    .van-button:nth-child(2) {\n      margin-left: 15px;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[0]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[0]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=92f7beb2&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import {Dialog} from 'vant';\n\nexport const dialog_generator = (title, message) => new Promise((resolve, reject) => {\n  Dialog.confirm({\n    title,\n    message,\n    confirmButtonText: '是',\n    cancelButtonText: '否',\n    confirmButtonColor: '#6f59fe',\n    allowHtml: true,\n    beforeClose(action, done) {\n      done();\n      if (action === 'confirm') {\n        resolve()\n      } else {\n        reject()\n      }\n    }\n  })\n  .catch(err => {})\n})\n\n\nexport const cancel_hanging_order = (lease_cancel_time) => dialog_generator(\"是否取消挂单\",\n  `<div>\n      <div class=\"tip\">\n        提示：\n      </div>\n      <div>\n          1.如果你在一天内取消<span style=\"color:#FB2222\">3次</span>挂单，当天你的账户将会被停止买卖。\n      </div>\n      <div class=\"al-c\">\n          今日还可取消\n          <span style=\"color:#FB2222\">${lease_cancel_time}次</span>\n          挂单，请谨慎操作\n      </div>\n    </div>\n`)\n\nexport const is_start_transaction = () => dialog_generator('是否开始交易', `<div>\n开始交易后可在“交易记录”，“订单”中\n「我的卖单」完成后续操作\n</div>`)\n\nexport const is_cancel_transaction = (lease_cancel_time, maxium_cancelable_time = 3) => dialog_generator(\"是否取消该笔交易\",\n  `<div>\n      <div class=\"tip\">\n        提示：\n      </div>\n      <div>\n          1.如果你在一天内取消<span style=\"color:#FB2222\">${maxium_cancelable_time}次</span>订单，当天你的账户将会被停止买卖。\n      </div>\n      <div class=\"al-c\">\n          今日还可取消\n          <span style=\"color:#FB2222\">${lease_cancel_time}次</span>\n          订单，请谨慎操作\n      </div>\n    </div>\n`)\n\nexport const is_didnt_receive_transfer = () => dialog_generator('是否未收到转账', `请再次确认您的收款账户是否未收到转账，\n如发现\n<span style=\"color:#FB2222\">恶意不确认转币</span>\n可能会面临\n<span style=\"color:#FB2222\">「永久封号」</span>\n处理`)\n//\n// export const is_receive_transfer = () => {\n//   return new Promise((resolve, reject) => {\n//     return Dialog.confirm({\n//       title: '是否收到转账',\n//       message: `请再次确认买家否已付款，且到款信息\n// 是否与<span style=\"color:#FB2222;font-weight: bold;\">「买方付款信息」</span>一致`,\n//       confirmButtonText: '是',\n//       cancelButtonText: '否',\n//       confirmButtonColor: '#6f59fe',\n//       allowHtml: true,\n//       beforeClose(action, done) {\n//         done();\n//         if (action === 'confirm') {\n//           resolve()\n//         } else {\n//           reject()\n//         }\n//       }\n//     })\n//   })\n// }\n"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","orderInfo","isSplit","status","amount","soldAmount","class","_f","loading","on","loadDetails","pendingOrderId","attrs","TRANSACTING_ORDER_STATUS","HANGING","createTime","_e","BUYER_REQUEST","staticStyle","$root","waitingSellerConfirmOrderStr","pendingOrderNo","directives","name","rawName","value","expression","copySuccessful","validAmount","_l","item","index","key","$event","$router","push","isCryptoMerchant","parseFloat","toFixed","model","callback","$$v","radio","slot","componentsMapping","tag","hide","undefined","getPaymentInfo","info","cancel_hanging","staticRenderFns","components","BankPaymentInfo","WechatPaymentInfo","AliPaymentInfo","mixins","data","STATUS_TYPE","STEP","countdown","isTimeOut","orderPayments","underOrders","PAYMENT_METHOD","computed","isCountdownEnd","stepsActive","isTimeoutDisputing","payments","created","beforeDestroy","clearTimeout","methods","transactingOrderStatus","start_transaction","is_start_transaction","cancel_transaction","is_cancel_transaction","myPendingOrderDetail","msg","_this2","loadUnderOrders","getOrderListByPendingOrder","page","pageSize","_this3","cancelHangOrder","recycle","_this4","component","dialog_generator","title","message","Promise","resolve","reject","Dialog","confirmButtonText","cancelButtonText","confirmButtonColor","allowHtml","beforeClose","action","done","err","lease_cancel_time","maxium_cancelable_time","arguments","length","concat","is_didnt_receive_transfer"],"sourceRoot":""}