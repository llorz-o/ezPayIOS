{"version":3,"file":"js/1331.55b2d796.js","mappings":"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","sources":["webpack://ez_pay/./src/components/Level.vue?6200","webpack://ez_pay/src/components/Level.vue","webpack://ez_pay/./src/components/Level.vue?6dfc","webpack://ez_pay/./src/components/Level.vue","webpack://ez_pay/./src/views/user_transfer/index.vue?54cd","webpack://ez_pay/src/views/user_transfer/index.vue","webpack://ez_pay/./src/views/user_transfer/index.vue?a16f","webpack://ez_pay/./src/views/user_transfer/index.vue","webpack://ez_pay/./src/vendor/globalVerify.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"level\"},_vm._l((5),function(v){\nvar _obj;\nreturn _c('div',{key:v,staticClass:\"grade mini\",class:( _obj = {}, _obj[(\"g\" + _vm.largeLevel + ((v == 5 ? _vm.levelModel == 0 : _vm.levelModel >= v || _vm.levelModel == 0)\n          ? 'l'\n          : ''))] = true, _obj )})}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"level\">\n    <div\n      v-for=\"v in 5\"\n      :key=\"v\"\n      :class=\"{\n        [`g${largeLevel}${\n          (v == 5 ? levelModel == 0 : levelModel >= v || levelModel == 0)\n            ? 'l'\n            : ''\n        }`]: true,\n      }\"\n      class=\"grade mini\"\n    />\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Level\",\n  props: {\n    level: {\n      type: Number,\n      default: 1,\n    },\n  },\n  computed: {\n    levelModel() {\n      return this.level % 5;\n    },\n    largeLevel() {\n      if (this.levelModel >= 1) {\n        return (this.level - this.levelModel) / 5 + 1;\n      } else {\n        return this.level / 5;\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.level {\n  display: flex;\n\n  .grade {\n    margin-right: 5px;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[0]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Level.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[0]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Level.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Level.vue?vue&type=template&id=16af3432&\"\nimport script from \"./Level.vue?vue&type=script&lang=js&\"\nexport * from \"./Level.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Level.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page page-sale\"},[_c('div',{staticClass:\"top-wrapper\"},[_c('div',{staticClass:\"merchant\"},[_c('div',{staticClass:\"left\"},[_c('van-image',{staticClass:\"avatar\",attrs:{\"src\":_vm.$root.getImageUrl(_vm.$root.userInfo.avatar),\"fit\":\"cover\",\"round\":\"\"}}),_c('div',{staticClass:\"seller-info\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.$root.userInfo.nickname))]),_c('Level',{attrs:{\"level\":this.$root.userInfo.creditLevel}})],1)],1),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"label\"},[_vm._v(\"余额（V币）\")]),_c('div',{staticClass:\"amount\"},[_vm._v(\" \"+_vm._s(parseFloat(_vm.$root.userInfo.balance).toFixed(2))+\" \")])])])]),_c('van-form',{on:{\"submit\":_vm.handlerSubmit}},[_c('van-field',{attrs:{\"autocomplete\":\"new-password\",\"label\":\"钱包地址：\",\"placeholder\":\"请输入收款商户钱包地址\",\"type\":\"text\"},model:{value:(_vm.form.walletAddress),callback:function ($$v) {_vm.$set(_vm.form, \"walletAddress\", $$v)},expression:\"form.walletAddress\"}}),_c('van-field',{attrs:{\"autocomplete\":\"new-password\",\"label\":\"转账金额：\",\"placeholder\":\"请输入转账金额\",\"type\":\"number\"},model:{value:(_vm.form.amount),callback:function ($$v) {_vm.$set(_vm.form, \"amount\", $$v)},expression:\"form.amount\"}}),_c('p',{staticStyle:{\"font-size\":\"12px\",\"text-align\":\"center\",\"padding\":\"10px 0 0\"}},[_vm._v(\" 注：该功能仅允许向商户钱包地址转账\")]),_c('van-button',{staticClass:\"block primary\",attrs:{\"native-type\":\"submit\"}},[_vm._v(\" 确认转账 \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"page page-sale\">\n    <div class=\"top-wrapper\">\n      <div class=\"merchant\">\n        <div class=\"left\">\n          <van-image\n            :src=\"$root.getImageUrl($root.userInfo.avatar)\"\n            class=\"avatar\"\n            fit=\"cover\"\n            round\n          />\n          <div class=\"seller-info\">\n            <div class=\"name\">{{ $root.userInfo.nickname }}</div>\n            <Level :level=\"this.$root.userInfo.creditLevel\"/>\n          </div>\n        </div>\n        <div class=\"right\">\n          <div class=\"label\">余额（V币）</div>\n          <div class=\"amount\">\n            {{ parseFloat($root.userInfo.balance).toFixed(2) }}\n          </div>\n        </div>\n      </div>\n    </div>\n    <van-form @submit=\"handlerSubmit\">\n      <van-field\n        v-model=\"form.walletAddress\"\n        autocomplete=\"new-password\"\n        label=\"钱包地址：\"\n        placeholder=\"请输入收款商户钱包地址\"\n        type=\"text\"\n      />\n      <van-field\n        v-model=\"form.amount\"\n        autocomplete=\"new-password\"\n        label=\"转账金额：\"\n        placeholder=\"请输入转账金额\"\n        type=\"number\"\n      />\n      <p style=\"font-size: 12px;text-align: center;padding:10px 0 0\">\n        注：该功能仅允许向商户钱包地址转账</p>\n\n      <van-button class=\"block primary\" native-type=\"submit\">\n        确认转账\n      </van-button>\n    </van-form>\n  </div>\n</template>\n\n<script>\nimport Level from \"@/components/Level.vue\";\nimport {addUserTransfer} from \"@/apis/user\";\nimport {verifySecuretedCode} from \"@/vendor/globalVerify\";\n\nexport default {\n  components: {Level},\n  data() {\n    return {\n      form: {\n        amount: \"\",\n        walletAddress: \"\",\n      },\n    };\n  },\n  created() {\n    this.$root.$emit(\"root:set-topbar\", [\"left-back\", \"customer-service\"]);\n  },\n  methods: {\n    async handlerSubmit() {\n      if(!this.form.walletAddress) return this.$toast.fail(\"请输入转账地址\")\n      if(!this.form.amount) return this.$toast.fail(\"请输入转账金额\")\n      const securePassword = await verifySecuretedCode(this)\n      if (securePassword && securePassword.length === 6) {\n        const {ok, msg} = await addUserTransfer({...this.form, securePassword})\n        if (ok) {\n          this.$toast.success(\"转账成功\")\n          this.form = {\n            amount: \"\",\n            walletAddress: \"\",\n          }\n        } else {\n          this.$toast.fail(msg || \"转账失败\")\n        }\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.page.page-sale {\n  overflow-y: auto;\n\n  .top-wrapper {\n    .merchant {\n      background-color: #fff;\n      border-radius: 5px;\n      padding: 20px 28px;\n      box-shadow: 0 0 2.5px 0.5px #c9c9c959;\n      position: relative;\n      display: flex;\n      justify-content: space-between;\n      align-items: flex-end;\n\n      .left {\n        display: flex;\n\n        .avatar {\n          width: 45px;\n          height: 45px;\n        }\n\n        .seller-info {\n          padding-left: 8px;\n\n          .name {\n            font-size: 15px;\n            color: #333;\n            height: 22.5px;\n            line-height: 22.5px;\n          }\n        }\n      }\n\n      .right {\n        color: #333;\n\n        .label {\n          font-size: 12px;\n        }\n\n        .amount {\n          font-size: 18px;\n          margin-top: 4px;\n        }\n      }\n    }\n  }\n\n  .primary.block {\n    margin-bottom: 20px;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[0]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[0]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=8c63ae12&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import {checkGoogleAuthenticator} from \"@/apis/user\";\n\nexport const verifySecuretedCode = vm => {\n  vm.$toast('请输入资金密码')\n  return new Promise((resolve, reject) => {\n    vm.$root.showPassowordKeyboard = true\n    vm.$root.$once('root:global-password', async code => resolve(code))\n  })\n}\n\nexport const verifyGoogleAuth = (vm) => {\n  if (vm.$root.userInfo && vm.$root.userInfo.isGoogleAuthenticator) {\n    vm.$toast('请输入Google安全码')\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        vm.$root.showPassowordKeyboard = true\n        vm.$root.$once('root:global-password', async code => {\n          if (!code || code === 'close-by-route-change') return resolve(false)\n          const {ok, msg} = await checkGoogleAuthenticator({safeCode: code})\n          if (ok) {\n            resolve(true)\n          } else {\n            resolve(false)\n            vm.$toast.fail(msg)\n          }\n        })\n      }, 0)\n    })\n  } else {\n    return Promise.resolve(true)\n  }\n\n}\n"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","v","_obj","key","class","largeLevel","levelModel","staticRenderFns","name","props","level","type","computed","component","attrs","$root","getImageUrl","userInfo","avatar","_v","_s","nickname","creditLevel","parseFloat","balance","toFixed","on","handlerSubmit","model","value","form","callback","$$v","$set","expression","staticStyle","components","Level","data","amount","walletAddress","created","methods","_this","_context","verifySecuretedCode","securePassword","addUserTransfer","_yield$addUserTransfe","ok","msg","vm","$toast","Promise","resolve","reject","showPassowordKeyboard","$once","_ref","_asyncToGenerator","regeneratorRuntime","mark","_callee","code","wrap","prev","next","abrupt","stop","_x","apply","arguments","verifyGoogleAuth","isGoogleAuthenticator","setTimeout","_ref2","_callee2","_yield$checkGoogleAut","_context2","checkGoogleAuthenticator","safeCode","sent","fail","_x2"],"sourceRoot":""}