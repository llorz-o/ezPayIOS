"use strict";(self["webpackChunkez_pay"]=self["webpackChunkez_pay"]||[]).push([[1176],{39290:function(t,e,n){n.d(e,{Z:function(){return u}});var r=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"CryptoTradingAnnouncement"},[n("div",{staticClass:"title"},[t._v("交易须知:")]),n("div",{staticClass:"content"},[n("p",[t._v("1、使用欧易、币安或芝麻开门等交易所购买USDT（"),n("span",{staticClass:"goto",on:{click:function(e){return t.$router.push("/helps?index=7")}}},[t._v("交易所交易教程")]),t._v("）")]),n("p",[t._v("2、选择币种（USDT或者TRX）")]),n("p",[t._v("3、输入转入数量，最小转入数量10USDT/100TRX，若转账金额小于以上金额系统将会自动取消该笔交易，给您造成不必要的损失")]),n("p",[t._v("4、复制转入地址，使用区块链钱包转账至该地址对应数量USDT/TRX")]),n("p",[t._v("5、点击确认转入，输入资金密码，订单创建完成（请实时留意订单状态，可在”订单“-”区块链订单“菜单查询订单状态，请十五分钟内完成转账）")]),n("p",[t._v("6、转账USDT/TRX之后系统自动判断，自动到账V币，到账金额根据实际转账金额计算")])])])}],a={name:"CryptoTradingAnnouncement"},s=a,c=n(1001),i=(0,c.Z)(s,r,o,!1,null,null,null),u=i.exports},51176:function(t,e,n){n.r(e),n.d(e,{default:function(){return h}});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page page-trans-in-balance-from-blockchain"},[n("van-cell-group",[t.cryptoAccountInfo.address&&t.isTrading?n("img",{staticClass:"QRcode",attrs:{alt:"qr code"}}):t._e(),n("div",{staticClass:"notice"},[t._v(" "+t._s(t.form.paymentType?"此地址只可接受"+t.form.paymentType:"选择币种即可获取转币地址")+" ")]),n("van-cell",{attrs:{title:"币种"}},[n("van-field",{attrs:{placeholder:"请选择币种",readonly:"",colon:"","input-align":"right"},on:{click:t.chooseCrypto},model:{value:t.form.paymentType,callback:function(e){t.$set(t.form,"paymentType",e)},expression:"form.paymentType"}}),n("van-icon",{attrs:{slot:"right-icon",name:"exchange"},slot:"right-icon"})],1),n("van-cell",{attrs:{title:"主网"}},[n("van-field",{attrs:{value:"Tronscan(TRC20)",readonly:"",colon:"","input-align":"right"}})],1),t.isTrading?n("van-cell",{attrs:{title:"转入地址"}},[n("van-field",{attrs:{readonly:"",colon:"","input-align":"right"},model:{value:t.cryptoAccountInfo.address,callback:function(e){t.$set(t.cryptoAccountInfo,"address",e)},expression:"cryptoAccountInfo.address"}}),n("button",{directives:[{name:"clipboard",rawName:"v-clipboard",value:t.cryptoAccountInfo.address,expression:"cryptoAccountInfo.address"}],staticClass:"copy copyBtn",attrs:{slot:"right-icon"},on:{success:t.$root.copySuccessful},slot:"right-icon"})],1):t._e(),n("van-cell",{attrs:{title:t.form.paymentType?"转入数量("+t.form.paymentType+")":"转入数量"}},[n("van-field",{attrs:{formatter:function(e){return t.isTrading?parseFloat(e).toFixed(2):e},readonly:t.isTrading,placeholder:"请输入转入数量",colon:"","input-align":"right"},model:{value:t.form.amount,callback:function(e){t.$set(t.form,"amount",e)},expression:"form.amount"}})],1),n("van-cell",{attrs:{title:t.ratio}},[n("van-field",{attrs:{value:"转入金额:"+t.howMuchRMB,readonly:"",colon:"","input-align":"right"},scopedSlots:t._u([{key:"extra",fn:function(){return[t._v(" V币 ")]},proxy:!0}])})],1)],1),n("CryptoTradingAnnouncement"),n("van-popup",{attrs:{round:"",position:"bottom"},model:{value:t.showPicker,callback:function(e){t.showPicker=e},expression:"showPicker"}},[n("van-picker",{attrs:{"show-toolbar":"",columns:t.columns},on:{cancel:function(e){t.showPicker=!1},confirm:t.onConfirm}})],1),t.isTrading?n("van-button",{staticClass:"primary block",attrs:{to:"/crypto_order_detail/"+t.orderInfo.orderNo}},[t._v(" 查看订单 ")]):n("van-button",{staticClass:"primary block",on:{click:t.businessDeposit}},[t._v(" 确定转入 ")])],1)},o=[],a=n(39873),s=(n(83040),n(92222),n(56977),n(54678),n(12879)),c=n(39290),i=n(86947),u=n(39766),p=n(89828),l={components:{CryptoTradingAnnouncement:c.Z},mixins:[p.fN,p.VM],data:function(){return{orderType:"TronTransferBusiness",columns:i.KV,showPicker:!1,form:{paymentType:"",amount:""}}},computed:{howMuchRMB:function(){var t=this.$root.$options.filters.amountFormat;return t(this.form.amount&&this.cryptoAccountInfo.otcTicker?this.form.amount*this.cryptoAccountInfo.otcTicker:0,{places:0})},ratio:function(){return this.form.paymentType?"".concat(this.form.paymentType,"价格:￥").concat(this.cryptoAccountInfo.otcTicker):"汇率:￥0.00"}},methods:{chooseCrypto:function(){this.isTrading||(this.showPicker=!0)},onConfirm:function(t){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function n(){var r,o,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.businessGetAccountInfo(t);case 2:r=n.sent,o=r.ok,a=r.msg,o?(e.form.amount="",e.form.paymentType=t,e.showPicker=!1,e.updateQRcode()):e.$toast(a);case 6:case"end":return n.stop()}}),n)})))()},businessDeposit:function(){var t=this;return(0,a.Z)(regeneratorRuntime.mark((function e(){var n,r,o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,u.x)(t);case 2:return n=e.sent,e.next=5,(0,s.NG)({paymentType:t.form.paymentType,amount:parseFloat(t.form.amount).toFixed(2),passageType:"TronTransferBusiness",receivingAddress:t.cryptoAccountInfo.address,securePassword:n});case 5:r=e.sent,o=r.ok,a=r.msg,o?(t.$toast("订单创建成功"),t.getDepositDetail()):t.$toast(a);case 9:case"end":return e.stop()}}),e)})))()}}},d=l,m=n(1001),f=(0,m.Z)(d,r,o,!1,null,null,null),h=f.exports},39766:function(t,e,n){n.d(e,{D:function(){return s},x:function(){return a}});var r=n(39873),o=(n(83040),n(41539),n(32564),n(53045)),a=function(t){return t.$toast("请输入资金密码"),new Promise((function(e,n){t.$root.showPassowordKeyboard=!0,t.$root.$once("root:global-password",function(){var t=(0,r.Z)(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",e(n));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}))},s=function(t){return t.$root.userInfo&&t.$root.userInfo.isGoogleAuthenticator?(t.$toast("请输入Google安全码"),new Promise((function(e,n){setTimeout((function(){t.$root.showPassowordKeyboard=!0,t.$root.$once("root:global-password",function(){var n=(0,r.Z)(regeneratorRuntime.mark((function n(r){var a,s,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r&&"close-by-route-change"!==r){n.next=2;break}return n.abrupt("return",e(!1));case 2:return n.next=4,(0,o.Wg)({safeCode:r});case 4:a=n.sent,s=a.ok,c=a.msg,s?e(!0):(e(!1),t.$toast.fail(c));case 8:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}())}),0)}))):Promise.resolve(!0)}},89828:function(t,e,n){n.d(e,{RY:function(){return p},VM:function(){return l},fN:function(){return u},mi:function(){return d}});var r=n(49749),o=n(52336),a=n(39873),s=(n(56977),n(54678),n(32564),n(83040),n(12879)),c=n(75461),i=["ok","data","msg"],u={data:function(){return{cryptoAccountInfo:{address:"",otcTicker:""}}},methods:{businessGetAccountInfo:function(t){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function n(){var a,c,u,p,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,(0,s.bb)({type:t});case 2:return a=n.sent,c=a.ok,u=a.data,p=a.msg,l=(0,o.Z)(a,i),c?(e.cryptoAccountInfo=u,e.updateQRcode()):e.$toast(p),n.abrupt("return",(0,r.Z)({ok:c,data:u,msg:p},l));case 9:case"end":return n.stop()}}),n)})))()},updateQRcode:function(t){c.toDataURL(t||this.cryptoAccountInfo.address).then((function(t){var e=document.querySelector(".QRcode");e&&e.setAttribute("src",t)}))}}},p={computed:{isCryptoMerchant:function(){return"1"===this.$route.query.m},amICryptoMerchant:function(){return 1===this.$root.userInfo.BusinessStatus},ApiPath:function(){return this.isCryptoMerchant?"Business":""},BuyerApiPath:function(){return this.isCryptoMerchant&&this.amICryptoMerchant?"Business":""}}},l={data:function(){return{countdown:0,orderType:"TronDeposit",form:{paymentType:"",amount:""},orderInfo:{userId:null,paymentType:"",amount:"",passageType:"",receivingAddress:"",copeAmount:0,createDate:"",status:"",createTime:"",updateTime:"",orderId:0,orderNo:""}}},computed:{isTrading:function(){return!!this.orderInfo.orderId}},created:function(){this.getDepositDetail(this.isBuyVb)},methods:{getDepositDetail:function(){var t=arguments,e=this;return(0,a.Z)(regeneratorRuntime.mark((function n(){var r,o,a,c,i,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.length>0&&void 0!==t[0]&&t[0],n.next=3,(0,s.IA)({orderType:e.orderType});case 3:o=n.sent,a=o.ok,c=o.data,i=o.msg,a?c&&(e.$set(e,"orderInfo",c.order),e.form.amount=r?c.order.amount:c.order.copeAmount,e.form.paymentType=c.order.paymentType,e.cryptoAccountInfo.address=c.order.receivingAddress,e.cryptoAccountInfo.otcTicker=parseFloat(String(c.order.amount/c.order.copeAmount)).toFixed(2),e.updateQRcode(),c.currentStateExpireTime&&(c.currentStateExpireTime.expire?(e.countdown=1e3*c.currentStateExpireTime.expire-e.$root.getServerTime(),e.countdown>0&&(u=setTimeout((function(){return e.getDepositDetail(r)}),5e3),e.$once("hook:beforeDestroy",(function(){return clearTimeout(u)})))):e.countdown=0)):e.$toast(i);case 8:case"end":return n.stop()}}),n)})))()}}},d={computed:{isMerchant:function(){return"1"===this.$route.query.m||"merchant"===this.$route.params.type},hideAlipayWechat:function(){return this.isMerchant&&!this.$root.isMerchantAlipayWechatOpen},hideAlipayWechatAtMerchantPage:function(){return!this.$root.isMerchantAlipayWechatOpen},payments:function(){return this.isMerchant?this.$root.merchantPayments:this.$root.payments}}}}}]);
//# sourceMappingURL=1176.26ba0fab.js.map