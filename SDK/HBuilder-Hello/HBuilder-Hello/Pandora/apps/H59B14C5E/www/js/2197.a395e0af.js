"use strict";(self["webpackChunkez_pay"]=self["webpackChunkez_pay"]||[]).push([[2197],{6902:function(t,o,n){n.r(o),n.d(o,{default:function(){return m}});var s=function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",{staticClass:"page page-deposit-transfer-out"},[n("div",{staticClass:"scrollable"},[n("van-cell-group",[n("van-cell",{attrs:{title:"币种"}},[n("van-field",{attrs:{value:"USDT",readonly:"",colon:"","input-align":"right"}})],1),n("van-cell",{attrs:{title:"主网"}},[n("van-field",{attrs:{value:"Tronscan(TRC20)",readonly:"",colon:"","input-align":"right"}})],1),n("van-cell",{attrs:{title:"转出地址"}},[n("van-field",{attrs:{value:t.cryptoAccountInfo.address,readonly:"",colon:"","input-align":"right"}}),n("van-button",{attrs:{slot:"right-icon",icon:"exchange",size:"mini",type:"primary"},on:{click:t.onSelectPayment},slot:"right-icon"})],1),n("van-cell",{attrs:{title:"当前可用保证金"}},[n("van-field",{attrs:{value:t._f("amountFormat")(t.$root.cryptoMerchantInfo.businessAssureBalance),readonly:"",colon:"","input-align":"right"}})],1),n("van-cell",{attrs:{title:"转出数量(USDT)"}},[n("van-field",{attrs:{placeholder:"请输入转出数量",colon:"","input-align":"right",error:t.amountNotEnough},model:{value:t.amount,callback:function(o){t.amount=o},expression:"amount"}})],1),t.amountNotEnough?n("p",{staticClass:"errorMessage"},[t._v("超出最大可用金额")]):t._e()],1),n("CryptoDepositDescription")],1),n("div",{staticClass:"actions"},[n("van-button",{staticClass:"primary block",on:{click:t.businessDeposit}},[t._v(" 确定转出 ")])],1),n("van-popup",{attrs:{round:"",position:"bottom"},model:{value:t.showPicker,callback:function(o){t.showPicker=o},expression:"showPicker"}},[n("van-picker",{attrs:{"show-toolbar":"",columns:t.columns},on:{cancel:function(o){t.showPicker=!1},confirm:t.onConfirm}})],1)],1)},a=[],e=n(12879),i=n(79194),r=n(39766),c=n(89828),l=n(39155),u=l.Z.extend({components:{CryptoDepositDescription:i.Z},mixins:[c.fN],data(){return{amount:"",showPicker:!1}},computed:{columns(){const{usdt:t}=this.$root.merchantPayments;return(t?t.list:[]).map((t=>t.usdtAddress))},amountNotEnough(){return Number(this.amount)>Number(this.$root.cryptoMerchantInfo.businessAssureBalance)}},methods:{async onSelectPayment(){const t=this.$toast.loading({duration:0}),{ok:o}=await this.$root.loadPayments();this.showPicker=o,t.clear()},onConfirm(t){this.showPicker=!1,this.cryptoAccountInfo.address=t},async businessDeposit(){if(this.amountNotEnough)return this.$toast("超出最大可用金额");const t=await(0,r.x)(this),{ok:o,msg:n}=await(0,e.NG)({paymentType:"USDT",amount:parseFloat(this.amount).toFixed(2),passageType:"DepositTransferOut",receivingAddress:this.cryptoAccountInfo.address,securePassword:t});o?(this.$toast("转出成功"),this.$router.back()):this.$toast(n)}}}),p=u,h=n(1001),d=(0,h.Z)(p,s,a,!1,null,null,null),m=d.exports}}]);
//# sourceMappingURL=2197.a395e0af.js.map