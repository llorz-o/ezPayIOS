{"version":3,"file":"js/7253.8a0047ab.js","mappings":"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","sources":["webpack://ez_pay/./src/views/crypto_trading/index.vue?6a0e","webpack://ez_pay/src/views/crypto_trading/index.vue","webpack://ez_pay/./src/views/crypto_trading/index.vue?34aa","webpack://ez_pay/./src/views/crypto_trading/index.vue","webpack://ez_pay/./src/vendor/globalVerify.js","webpack://ez_pay/./src/vendor/mixins.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page page-crypto-trading\"},[_vm._m(0),_c('van-cell-group',[_c('div',{staticClass:\"titleSlot\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"购买V币\")]),(_vm.isTrading)?_c('div',{staticClass:\"countdown\"},[_vm._v(\" 订单倒计时 \"),_c('van-count-down',{attrs:{\"time\":_vm.countdown}})],1):_vm._e()]),(_vm.cryptoAccountInfo.address && _vm.isTrading)?_c('img',{staticClass:\"QRcode\",attrs:{\"alt\":\"qr code\"}}):_vm._e(),_c('div',{staticClass:\"notice\"},[_vm._v(\" \"+_vm._s(!_vm.form.paymentType ? \"选择币种即可获取转币地址\" : (\"此地址只可接受\" + (_vm.form.paymentType)))+\" \")]),_c('van-cell',{attrs:{\"title\":\"币种\"}},[_c('van-field',{attrs:{\"placeholder\":\"请选择币种\",\"readonly\":\"\",\"colon\":\"\",\"input-align\":\"right\"},on:{\"click\":_vm.chooseCrypto},model:{value:(_vm.form.paymentType),callback:function ($$v) {_vm.$set(_vm.form, \"paymentType\", $$v)},expression:\"form.paymentType\"}}),_c('van-icon',{attrs:{\"slot\":\"right-icon\",\"name\":\"exchange\"},slot:\"right-icon\"})],1),(_vm.form.paymentType)?_c('van-cell',{attrs:{\"title\":\"主网\"}},[_c('van-field',{attrs:{\"value\":\"Tronscan(TRC20)\",\"readonly\":\"\",\"colon\":\"\",\"input-align\":\"right\"}})],1):_vm._e(),(_vm.isTrading)?_c('van-cell',{attrs:{\"title\":\"转入地址\"}},[_c('van-field',{attrs:{\"readonly\":\"\",\"colon\":\"\",\"input-align\":\"right\"},model:{value:(_vm.cryptoAccountInfo.address),callback:function ($$v) {_vm.$set(_vm.cryptoAccountInfo, \"address\", $$v)},expression:\"cryptoAccountInfo.address\"}}),_c('button',{directives:[{name:\"clipboard\",rawName:\"v-clipboard\",value:(_vm.cryptoAccountInfo.address),expression:\"cryptoAccountInfo.address\"}],staticClass:\"copy copyBtn\",attrs:{\"slot\":\"right-icon\"},on:{\"success\":_vm.$root.copySuccessful},slot:\"right-icon\"})],1):_vm._e(),_c('van-cell',{attrs:{\"title\":\"购买V币数量\"}},[_c('van-field',{attrs:{\"formatter\":function (v) { return (_vm.isTrading ? parseFloat(v).toFixed(2) : v); },\"readonly\":_vm.isTrading,\"placeholder\":\"请输入购买数量100~99999\",\"colon\":\"\",\"input-align\":\"right\"},model:{value:(_vm.form.amount),callback:function ($$v) {_vm.$set(_vm.form, \"amount\", $$v)},expression:\"form.amount\"}})],1),_c('van-cell',{attrs:{\"title\":_vm.ratio}},[_c('van-field',{attrs:{\"value\":(\"应付:\" + _vm.howMuchRMB),\"readonly\":\"\",\"colon\":\"\",\"input-align\":\"right\"},scopedSlots:_vm._u([{key:\"extra\",fn:function(){return [_vm._v(\" \"+_vm._s(_vm.form.paymentType)+\" \")]},proxy:true}])})],1)],1),_c('p',{staticClass:\"goHelpbBourse\"},[_c('span',{on:{\"click\":function($event){return _vm.$router.push('/helps?index=7')}}},[_vm._v(\"交易所操作教程\")])]),(_vm.isTrading)?_c('van-button',{staticClass:\"primary block\",attrs:{\"to\":(\"/crypto_order_detail/\" + (_vm.orderInfo.orderNo))}},[_vm._v(\" 查看订单 \")]):_c('van-button',{staticClass:\"primary block\",on:{\"click\":_vm.submit}},[_vm._v(\" 提交订单 \")]),_vm._m(1),_c('van-popup',{attrs:{\"round\":\"\",\"position\":\"bottom\"},model:{value:(_vm.showPicker),callback:function ($$v) {_vm.showPicker=$$v},expression:\"showPicker\"}},[_c('van-picker',{attrs:{\"show-toolbar\":\"\",\"columns\":_vm.columns},on:{\"cancel\":function($event){_vm.showPicker = false},\"confirm\":_vm.onConfirm}})],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tip_card\"},[_c('div',{staticClass:\"tips\"},[_c('h3',[_vm._v(\"交易须知\")]),_c('p',[_vm._v(\"1.交易中请实时留意订单状态，请十五分钟内完成转账；\")]),_c('p',[_vm._v(\" 2.请确保您转币时选择的主网与平台支持的主网一致【Tronscan(TRC20)】，否则可能造成资产丢失； \")]),_c('p',[_vm._v(\"3.V币汇率锚定人民币汇率，平台使用实时汇率；\")]),_c('p',[_vm._v(\"4.请按汇率计算给出的金额转币，否则可能会造成V币无法及时到账；\")]),_c('p',[_vm._v(\"5.按要求转币后经过一定数量的区块确认后就可以自动到账。\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tips_info\"},[_c('p',{staticClass:\"importance\"},[_vm._v(\"重要提醒：\")]),_c('p',[_vm._v(\"1.实际到账V币金额=您的转账金额（USDT/TRX）*汇率\")]),_c('p',[_vm._v(\"2.USDT最小转入金额为10USDT，TRX最小转账金额为100TRX，若转账金额小于以上金额系统将会自动取消该笔交易，给您造成不必要的损失\")]),_c('p',[_vm._v(\"3.请务必提交订单后再向系统提供地址转账，否则会造成V币无法到账\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"page page-crypto-trading\">\n    <div class=\"tip_card\">\n      <div class=\"tips\">\n        <h3>交易须知</h3>\n        <p>1.交易中请实时留意订单状态，请十五分钟内完成转账；</p>\n        <p>\n          2.请确保您转币时选择的主网与平台支持的主网一致【Tronscan(TRC20)】，否则可能造成资产丢失；\n        </p>\n        <p>3.V币汇率锚定人民币汇率，平台使用实时汇率；</p>\n        <p>4.请按汇率计算给出的金额转币，否则可能会造成V币无法及时到账；</p>\n        <p>5.按要求转币后经过一定数量的区块确认后就可以自动到账。</p>\n      </div>\n    </div>\n    <van-cell-group>\n      <div slot=\"title\" class=\"titleSlot\">\n        <div class=\"title\">购买V币</div>\n        <div class=\"countdown\" v-if=\"isTrading\">\n          订单倒计时\n          <van-count-down :time=\"countdown\"></van-count-down>\n        </div>\n      </div>\n      <img v-if=\"cryptoAccountInfo.address && isTrading\" class=\"QRcode\" alt=\"qr code\" />\n      <div class=\"notice\">\n        {{ !form.paymentType ? \"选择币种即可获取转币地址\" : `此地址只可接受${form.paymentType}` }}\n      </div>\n      <van-cell title=\"币种\">\n        <van-field\n          v-model=\"form.paymentType\"\n          @click=\"chooseCrypto\"\n          placeholder=\"请选择币种\"\n          readonly\n          colon\n          input-align=\"right\"\n        />\n        <van-icon name=\"exchange\" slot=\"right-icon\" />\n      </van-cell>\n      <van-cell v-if=\"form.paymentType\" title=\"主网\">\n        <van-field value=\"Tronscan(TRC20)\" readonly colon input-align=\"right\" />\n      </van-cell>\n      <van-cell v-if=\"isTrading\" title=\"转入地址\">\n        <van-field v-model=\"cryptoAccountInfo.address\" readonly colon input-align=\"right\" />\n        <button\n          v-clipboard=\"cryptoAccountInfo.address\"\n          class=\"copy copyBtn\"\n          @success=\"$root.copySuccessful\"\n          slot=\"right-icon\"\n        ></button>\n      </van-cell>\n      <van-cell title=\"购买V币数量\">\n        <van-field\n          v-model=\"form.amount\"\n          :formatter=\"(v) => (isTrading ? parseFloat(v).toFixed(2) : v)\"\n          :readonly=\"isTrading\"\n          :placeholder=\"`请输入购买数量100~99999`\"\n          colon\n          input-align=\"right\"\n        />\n      </van-cell>\n      <van-cell :title=\"ratio\">\n        <van-field :value=\"`应付:${howMuchRMB}`\" readonly colon input-align=\"right\">\n          <template #extra> {{ form.paymentType }} </template>\n        </van-field>\n      </van-cell>\n    </van-cell-group>\n    <p class=\"goHelpbBourse\"><span @click=\"$router.push('/helps?index=7')\">交易所操作教程</span></p>\n    <van-button\n      v-if=\"isTrading\"\n      class=\"primary block\"\n      :to=\"`/crypto_order_detail/${orderInfo.orderNo}`\"\n    >\n      查看订单\n    </van-button>\n    <van-button v-else class=\"primary block\" @click=\"submit\"> 提交订单 </van-button>\n\n    <div class=\"tips_info\">\n      <p class=\"importance\">重要提醒：</p>\n      <p>1.实际到账V币金额=您的转账金额（USDT/TRX）*汇率</p>\n      <p>2.USDT最小转入金额为10USDT，TRX最小转账金额为100TRX，若转账金额小于以上金额系统将会自动取消该笔交易，给您造成不必要的损失</p>\n      <p>3.请务必提交订单后再向系统提供地址转账，否则会造成V币无法到账</p>\n    </div>\n\n    <van-popup v-model=\"showPicker\" round position=\"bottom\">\n      <van-picker\n        show-toolbar\n        :columns=\"columns\"\n        @cancel=\"showPicker = false\"\n        @confirm=\"onConfirm\"\n      />\n    </van-popup>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { businessDeposit } from \"@/apis/crypto\";\nimport { CRYPTO_WEB } from \"@/vendor/enum\";\nimport { verifySecuretedCode } from \"@/vendor/globalVerify\";\nimport { cryptoMixins, cryptoTradingMixins } from \"@/vendor/mixins\";\nimport Vue from \"vue\";\nexport default Vue.extend({\n  mixins: [cryptoMixins, cryptoTradingMixins],\n  data() {\n    return {\n      columns: CRYPTO_WEB,\n      showPicker: false,\n      isBuyVb:true,//是否购买V币  true amount为amount  否则 copeAmount\n      form: { \n        paymentType: \"\",\n        amount: \"\",\n      },\n    };\n  },\n  computed: {\n    howMuchRMB() {\n      const { amountFormat } = this.$root.$options.filters;\n      return this?.orderInfo?.orderNo ?  parseFloat(this.orderInfo.copeAmount).toFixed(2) : amountFormat(\n        this.form.amount && this.cryptoAccountInfo.otcTicker\n          ? this.form.amount / this.cryptoAccountInfo.otcTicker\n          : 0,\n        { places: 0 }\n      );\n    },\n    ratio() {\n      if (!this.form.paymentType) {\n        return \"汇率:￥0.00\";\n      } else {\n        return `${this.form.paymentType}价格:￥${this.orderInfo.feeRate || this.cryptoAccountInfo.otcTicker}`;\n      }\n    },\n  },\n  watch:{\n    \"orderInfo.orderNo\"(newVal) {\n      if(newVal && this.orderInfo.amount){\n        this.form.amount = this.orderInfo.amount\n      }\n    },\n  },  \n  methods: {\n    chooseCrypto() {\n      if (this.isTrading) return;\n      this.showPicker = true;\n    },\n    // 选择币种\n    async onConfirm(val) {\n      const { ok, data, msg } = await this.businessGetAccountInfo(val);\n      if (ok) {\n        this.form.amount = \"\";\n        this.form.paymentType = val;\n        this.showPicker = false;\n        this.updateQRcode();\n      } else {\n        this.$toast(msg);\n      }\n    },\n    // 提交订单\n    async submit() {\n      // 验证 amount 和 paymentType\n      if (!this.form.amount) {\n        this.$toast(\"请输入购买数量\");\n        return;\n      }\n      if (!this.form.paymentType) {\n        this.$toast(\"请选择币种\");\n        return;\n      }\n      // 验证购买数量为 100 到 99999\n      if (this.form.amount < 100 || this.form.amount > 99999) {\n        this.$toast(\"购买数量为 100 到 99999\");\n        return;\n      }\n      // 验证资金密码\n      const securePassword = await verifySecuretedCode(this);\n      if (!securePassword) return;\n      const { ok, data, msg } = await businessDeposit({\n        ...this.form,\n        amount: parseFloat(this.form.amount).toFixed(2),\n        passageType: \"TronDeposit\",\n        receivingAddress: this.cryptoAccountInfo.address,\n        securePassword,\n      });\n      if (ok) {\n        this.$toast(\"订单创建成功\");\n        this.getDepositDetail(true);\n      } else {\n        this.$toast(msg);\n      }\n    },\n  },\n});\n</script>\n\n<style lang=\"scss\">\n.page.page-crypto-trading {\n  overflow-y: auto;\n  padding-bottom: 20px;\n\n  .tip_card {\n    padding: 12px 12px 0;\n\n    .tips {\n      color: #fff;\n      padding: 8px 18px;\n      border-radius: 10px;\n      background-color: #6f5bfe;\n\n      h3 {\n        font-size: 16px;\n        text-align: center;\n        padding-bottom: 8px;\n      }\n\n      p {\n        font-size: 12px;\n        line-height: 1.2;\n      }\n    }\n  }\n\n  .QRcode {\n    display: block;\n    width: 250px;\n    height: 250px;\n    font-size: 250px;\n    margin: 0 auto;\n  }\n\n  .notice {\n    font-size: 14px;\n    text-align: center;\n    padding-top: 10px;\n    margin: 10px 0;\n  }\n\n  .copyBtn {\n    &.copy {\n      height: 24px;\n      padding: 0 10px;\n    }\n\n    margin-left: auto;\n\n    &::after {\n      background-color: #999999;\n    }\n\n    &::after,\n    &::before {\n      border-color: #999999;\n    }\n  }\n\n  .van-cell {\n    &__title {\n      padding-left: 5px;\n    }\n    &__value {\n      flex: 2;\n      .van-field {\n        padding-top: 0;\n        padding-bottom: 0;\n      }\n    }\n  }\n\n  .titleSlot {\n    display: flex;\n    .title {\n      font-size: 16px;\n      font-weight: 600;\n      color: #333;\n    }\n    .countdown {\n      display: flex;\n      margin-left: auto;\n      font-size: 12px;\n      gap: 5px;\n      align-items: center;\n      line-height: 20px;\n    }\n  }\n  .goHelpbBourse{\n    display: flex;\n    justify-content: flex-end;\n    span{\n      padding: 8px 18px 0px 0px;\n      font-size: 12px;\n      color: #6f5bfe;\n    }\n  }\n  .tips_info{\n    margin: 18px;\n    font-size: 12px;\n    line-height: 21px;\n    .importance{\n      font-weight: 600;\n      font-size: 13px;\n    }\n  }\n\n}\n</style>\n","import mod from \"-!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=4f9e359a&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import {checkGoogleAuthenticator} from \"@/apis/user\";\n\nexport const verifySecuretedCode = vm => {\n  vm.$toast('请输入资金密码')\n  return new Promise((resolve, reject) => {\n    vm.$root.showPassowordKeyboard = true\n    vm.$root.$once('root:global-password', async code => resolve(code))\n  })\n}\n\nexport const verifyGoogleAuth = (vm) => {\n  if (vm.$root.userInfo && vm.$root.userInfo.isGoogleAuthenticator) {\n    vm.$toast('请输入Google安全码')\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        vm.$root.showPassowordKeyboard = true\n        vm.$root.$once('root:global-password', async code => {\n          if (!code || code === 'close-by-route-change') return resolve(false)\n          const {ok, msg} = await checkGoogleAuthenticator({safeCode: code})\n          if (ok) {\n            resolve(true)\n          } else {\n            resolve(false)\n            vm.$toast.fail(msg)\n          }\n        })\n      }, 0)\n    })\n  } else {\n    return Promise.resolve(true)\n  }\n\n}\n","import { businessGetAccountInfo, getDepositDetail } from \"@/apis/crypto\";\nimport QRCode from \"qrcode\";\n\nexport const cryptoMixins = {\n  data() {\n    return {\n      cryptoAccountInfo: {\n        address: \"\",\n        otcTicker: \"\",\n      },\n    };\n  },\n  methods: {\n    // 查询币种信息\n    async businessGetAccountInfo(val) {\n      const { ok, data, msg, ...rest } = await businessGetAccountInfo({ type: val });\n      if (ok) {\n        this.cryptoAccountInfo = data;\n        this.updateQRcode();\n      } else {\n        this.$toast(msg);\n      }\n\n      return { ok, data, msg, ...rest };\n    },\n    // 更新二维码\n    updateQRcode(str) {\n      QRCode.toDataURL(str || this.cryptoAccountInfo.address).then((url) => {\n        const $QRcode = document.querySelector(\".QRcode\");\n        $QRcode && $QRcode.setAttribute(\"src\", url);\n      });\n    },\n  },\n};\n\nexport const cryptoMerchantMixins = {\n  computed: {\n    isCryptoMerchant() {\n      return this.$route.query.m === \"1\";\n    },\n    amICryptoMerchant() {\n      return this.$root.userInfo.BusinessStatus === 1;\n    },\n    ApiPath() {\n      return this.isCryptoMerchant ? \"Business\" : \"\";\n    },\n    BuyerApiPath() {\n      // 一个商家单，普通用户买调用普通的，商家买调用商家的\n      // 一个普通单，都调用普通的\n      // 一个商家单，商家卖调用商家的，普通用户没有商家卖单\n      return this.isCryptoMerchant && this.amICryptoMerchant ? \"Business\" : \"\";\n    },\n  },\n};\n\nexport const cryptoTradingMixins = {\n  data() {\n    return {\n      countdown: 0,\n      orderType: \"TronDeposit\",\n      form: {\n        paymentType: \"\",\n        amount: \"\",\n      },\n      orderInfo: {\n        userId: null,\n        paymentType: \"\",\n        amount: \"\",\n        passageType: \"\",\n        receivingAddress: \"\",\n        copeAmount: 0,\n        createDate: \"\",\n        status: \"\",\n        createTime: \"\",\n        updateTime: \"\",\n        orderId: 0,\n        orderNo: \"\",\n      },\n    };\n  },\n  computed: {\n    isTrading() {\n      return !!this.orderInfo.orderId;\n    },\n  },\n  created() {\n    this.getDepositDetail(this.isBuyVb); //isBuyVb 区分区块链交易 取值amount\n  },\n  methods: {\n    // 检查存续订单\n    async getDepositDetail(isBuyVb = false) {\n      //是否购买V币  true amount为amount  否则 copeAmount\n      const { ok, data, msg } = await getDepositDetail({ orderType: this.orderType });\n      if (ok) {\n        if (data) {\n          // 有未完成的订单\n          this.$set(this, \"orderInfo\", data.order);\n          this.form.amount = isBuyVb ? data.order.amount : data.order.copeAmount;\n          this.form.paymentType = data.order.paymentType;\n          this.cryptoAccountInfo.address = data.order.receivingAddress;\n          this.cryptoAccountInfo.otcTicker = parseFloat(\n            String(data.order.amount / data.order.copeAmount)\n          ).toFixed(2);\n          this.updateQRcode();\n          // 订单超时\n          if (data.currentStateExpireTime) {\n            if (data.currentStateExpireTime.expire) {\n              this.countdown =\n                data.currentStateExpireTime.expire * 1000 - this.$root.getServerTime();\n              if (this.countdown > 0) {\n                const timer = setTimeout(() => this.getDepositDetail(isBuyVb), 5000);\n                this.$once(\"hook:beforeDestroy\", () => clearTimeout(timer));\n              }\n            } else {\n              this.countdown = 0;\n            }\n          }\n        } else {\n          // 没有未完成的订单\n        }\n      } else {\n        this.$toast(msg);\n      }\n    },\n  },\n};\n\nexport const cryptoPaymentsMixins = {\n  computed: {\n    isMerchant() {\n      return this.$route.query.m === \"1\" || this.$route.params.type === \"merchant\";\n    },\n    hideAlipayWechat() {\n      return this.isMerchant && !this.$root.isMerchantAlipayWechatOpen;\n    },\n    hideAlipayWechatAtMerchantPage() {\n      return !this.$root.isMerchantAlipayWechatOpen;\n    },\n    payments() {\n      return this.isMerchant ? this.$root.merchantPayments : this.$root.payments;\n    },\n  },\n};\n"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","attrs","slot","_v","countdown","_e","cryptoAccountInfo","address","isTrading","_s","form","paymentType","on","chooseCrypto","model","value","callback","$$v","$set","expression","directives","name","rawName","$root","copySuccessful","v","parseFloat","toFixed","ratio","howMuchRMB","scopedSlots","_u","key","fn","proxy","$event","$router","push","orderInfo","submit","showPicker","columns","onConfirm","staticRenderFns","mixins","data","isBuyVb","amount","computed","amountFormat","$options","filters","orderNo","copeAmount","otcTicker","places","feeRate","watch","newVal","methods","async","val","ok","msg","businessGetAccountInfo","updateQRcode","$toast","securePassword","passageType","receivingAddress","getDepositDetail","component","verifySecuretedCode","vm","Promise","resolve","reject","showPassowordKeyboard","$once","_ref","_asyncToGenerator","regeneratorRuntime","mark","_callee","code","wrap","_context","prev","next","abrupt","stop","_x","apply","arguments","verifyGoogleAuth","userInfo","isGoogleAuthenticator","setTimeout","_ref2","_callee2","_yield$checkGoogleAut","_context2","checkGoogleAuthenticator","safeCode","sent","fail","_x2","cryptoMixins","_this","_yield$_businessGetAc","rest","type","_objectWithoutProperties","_excluded","_objectSpread","str","QRCode","then","url","$QRcode","document","querySelector","setAttribute","cryptoMerchantMixins","isCryptoMerchant","$route","query","m","amICryptoMerchant","BusinessStatus","ApiPath","BuyerApiPath","cryptoTradingMixins","orderType","userId","createDate","status","createTime","updateTime","orderId","created","_arguments","_this2","_yield$_getDepositDet","timer","length","undefined","order","String","currentStateExpireTime","expire","getServerTime","clearTimeout","cryptoPaymentsMixins","isMerchant","params","hideAlipayWechat","isMerchantAlipayWechatOpen","hideAlipayWechatAtMerchantPage","payments","merchantPayments"],"sourceRoot":""}