{"version":3,"file":"js/2197.a395e0af.js","mappings":"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","sources":["webpack://ez_pay/./src/views/deposit_transfer_out/index.vue?6136","webpack://ez_pay/src/views/deposit_transfer_out/index.vue","webpack://ez_pay/./src/views/deposit_transfer_out/index.vue?19a8","webpack://ez_pay/./src/views/deposit_transfer_out/index.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page page-deposit-transfer-out\"},[_c('div',{staticClass:\"scrollable\"},[_c('van-cell-group',[_c('van-cell',{attrs:{\"title\":\"币种\"}},[_c('van-field',{attrs:{\"value\":\"USDT\",\"readonly\":\"\",\"colon\":\"\",\"input-align\":\"right\"}})],1),_c('van-cell',{attrs:{\"title\":\"主网\"}},[_c('van-field',{attrs:{\"value\":\"Tronscan(TRC20)\",\"readonly\":\"\",\"colon\":\"\",\"input-align\":\"right\"}})],1),_c('van-cell',{attrs:{\"title\":\"转出地址\"}},[_c('van-field',{attrs:{\"value\":_vm.cryptoAccountInfo.address,\"readonly\":\"\",\"colon\":\"\",\"input-align\":\"right\"}}),_c('van-button',{attrs:{\"slot\":\"right-icon\",\"icon\":\"exchange\",\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.onSelectPayment},slot:\"right-icon\"})],1),_c('van-cell',{attrs:{\"title\":\"当前可用保证金\"}},[_c('van-field',{attrs:{\"value\":_vm._f(\"amountFormat\")(_vm.$root.cryptoMerchantInfo.businessAssureBalance),\"readonly\":\"\",\"colon\":\"\",\"input-align\":\"right\"}})],1),_c('van-cell',{attrs:{\"title\":\"转出数量(USDT)\"}},[_c('van-field',{attrs:{\"placeholder\":\"请输入转出数量\",\"colon\":\"\",\"input-align\":\"right\",\"error\":_vm.amountNotEnough},model:{value:(_vm.amount),callback:function ($$v) {_vm.amount=$$v},expression:\"amount\"}})],1),(_vm.amountNotEnough)?_c('p',{staticClass:\"errorMessage\"},[_vm._v(\"超出最大可用金额\")]):_vm._e()],1),_c('CryptoDepositDescription')],1),_c('div',{staticClass:\"actions\"},[_c('van-button',{staticClass:\"primary block\",on:{\"click\":_vm.businessDeposit}},[_vm._v(\" 确定转出 \")])],1),_c('van-popup',{attrs:{\"round\":\"\",\"position\":\"bottom\"},model:{value:(_vm.showPicker),callback:function ($$v) {_vm.showPicker=$$v},expression:\"showPicker\"}},[_c('van-picker',{attrs:{\"show-toolbar\":\"\",\"columns\":_vm.columns},on:{\"cancel\":function($event){_vm.showPicker = false},\"confirm\":_vm.onConfirm}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"page page-deposit-transfer-out\">\n    <div class=\"scrollable\">\n      <van-cell-group>\n        <van-cell title=\"币种\">\n          <van-field value=\"USDT\" readonly colon input-align=\"right\" />\n        </van-cell>\n        <van-cell title=\"主网\">\n          <van-field value=\"Tronscan(TRC20)\" readonly colon input-align=\"right\" />\n        </van-cell>\n        <van-cell title=\"转出地址\">\n          <van-field :value=\"cryptoAccountInfo.address\" readonly colon input-align=\"right\" />\n          <!-- <van-icon name=\"exchange\" /> -->\n          <van-button\n            slot=\"right-icon\"\n            icon=\"exchange\"\n            size=\"mini\"\n            type=\"primary\"\n            @click=\"onSelectPayment\"\n          />\n        </van-cell>\n        <van-cell title=\"当前可用保证金\">\n          <van-field\n            :value=\"$root.cryptoMerchantInfo.businessAssureBalance | amountFormat\"\n            readonly\n            colon\n            input-align=\"right\"\n          />\n        </van-cell>\n        <van-cell title=\"转出数量(USDT)\">\n          <van-field\n            v-model=\"amount\"\n            placeholder=\"请输入转出数量\"\n            colon\n            input-align=\"right\"\n            :error=\"amountNotEnough\"\n          />\n        </van-cell>\n        <p v-if=\"amountNotEnough\" class=\"errorMessage\">超出最大可用金额</p>\n      </van-cell-group>\n      <CryptoDepositDescription />\n    </div>\n    <div class=\"actions\">\n      <van-button class=\"primary block\" @click=\"businessDeposit\"> 确定转出 </van-button>\n    </div>\n\n    <van-popup v-model=\"showPicker\" round position=\"bottom\">\n      <van-picker\n        show-toolbar\n        :columns=\"columns\"\n        @cancel=\"showPicker = false\"\n        @confirm=\"onConfirm\"\n      />\n    </van-popup>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { businessDeposit } from \"@/apis/crypto\";\nimport CryptoDepositDescription from \"@/components/CryptoDepositDescription.vue\";\nimport { verifySecuretedCode } from \"@/vendor/globalVerify\";\nimport { cryptoMixins } from \"@/vendor/mixins\";\nimport Vue from \"vue\";\nexport default Vue.extend({\n  components: { CryptoDepositDescription },\n  mixins: [cryptoMixins],\n  data() {\n    return {\n      amount: \"\",\n      showPicker: false,\n    };\n  },\n  computed: {\n    columns() {\n      const { usdt } = this.$root.merchantPayments;\n      return (usdt ? usdt.list : []).map((item) => item.usdtAddress);\n    },\n    amountNotEnough() {\n      return Number(this.amount) > Number(this.$root.cryptoMerchantInfo.businessAssureBalance);\n    },\n  },\n  methods: {\n    async onSelectPayment() {\n      const toast = this.$toast.loading({ duration: 0 });\n      const { ok } = await this.$root.loadPayments();\n      this.showPicker = ok;\n      toast.clear();\n    },\n    onConfirm(value) {\n      this.showPicker = false;\n      this.cryptoAccountInfo.address = value;\n    },\n    //  钱包转出\n    async businessDeposit() {\n      // 验证余额是否充足\n      if (this.amountNotEnough) {\n        return this.$toast(\"超出最大可用金额\");\n      }\n      const securePassword = await verifySecuretedCode(this);\n      const { ok, msg } = await businessDeposit({\n        paymentType: \"USDT\",\n        amount: parseFloat(this.amount).toFixed(2),\n        passageType: \"DepositTransferOut\",\n        receivingAddress: this.cryptoAccountInfo.address,\n        securePassword,\n      });\n\n      if (ok) {\n        this.$toast(\"转出成功\");\n        this.$router.back();\n      } else {\n        this.$toast(msg);\n      }\n    },\n  },\n});\n</script>\n\n<style lang=\"scss\">\n.page.page-deposit-transfer-out {\n  .errorMessage {\n    color: red;\n    padding: 10px 12px 0 0;\n    font-size: 12px;\n    text-align: right;\n  }\n  .scrollable {\n    overflow-y: auto;\n    position: absolute;\n    top: 0;\n    right: 0;\n    left: 0;\n    bottom: 0;\n    padding-bottom: 80px;\n  }\n  .actions {\n    height: 80px;\n    background-color: #fff;\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    // 10px 透明渐变至白色，由上而下\n    background: linear-gradient(\n      to bottom,\n      rgba(#ffffff, 0) 0%,\n      rgba(#ffffff, 0.95) 20px,\n      #ffffff 100%\n    );\n  }\n  .copyBtn {\n    &.copy {\n      height: 24px;\n      padding: 0 10px;\n    }\n\n    margin-left: auto;\n\n    &::after {\n      background-color: #999999;\n    }\n\n    &::after,\n    &::before {\n      border-color: #999999;\n    }\n  }\n\n  .van-cell {\n    &__title {\n      padding-left: 5px;\n    }\n    &__value {\n      flex: 2;\n      .van-field {\n        padding-top: 0;\n        padding-bottom: 0;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=4b2f18bc&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","cryptoAccountInfo","address","on","onSelectPayment","slot","_f","$root","cryptoMerchantInfo","businessAssureBalance","amountNotEnough","model","value","callback","$$v","amount","expression","_v","_e","businessDeposit","showPicker","columns","$event","onConfirm","staticRenderFns","components","CryptoDepositDescription","mixins","data","computed","usdt","merchantPayments","list","map","item","usdtAddress","Number","methods","async","toast","$toast","loading","duration","ok","loadPayments","clear","securePassword","msg","paymentType","parseFloat","toFixed","passageType","receivingAddress","$router","back","component"],"sourceRoot":""}